<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Blotters - BBMS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="user_style.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="Images/logo.png" class="logo" alt="Logo">
      BBMS
    </div>
    <button class="icon-btn" onclick="goTo('user_notifications.html')">
      <span class="notif-dot" id="notifDot"></span>
      <img src="Images/bell.svg" alt="Notifications">
    </button>
  </header>
  
  <main class="container">
    <div class="page-header">
      <h2>My Incident Reports</h2>
      <a href="user_blotter_new.html" class="btn-new-report">+ New Report</a>
    </div>
    
    <div id="blotterContainer" class="blotter-container"></div>
    
    <!-- Modal for viewing details -->
    <div id="viewModal" class="modal" style="display:none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Incident Report Details</h3>
          <button class="modal-close" id="closeViewModal">&times;</button>
        </div>
        <div class="modal-body" id="viewModalBody"></div>
      </div>
    </div>
    
    <!-- Modal for editing -->
    <div id="editModal" class="modal" style="display:none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Incident Report</h3>
          <button class="modal-close" id="closeEditModal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="editForm" class="edit-form">
            <input type="hidden" id="editIndex">
            
            <label>
              <span class="field-label">Your Name: <span class="required">*</span></span>
              <input type="text" id="editReporterName" required>
            </label>
            
            <label>
              <span class="field-label">Contact Number: <span class="required">*</span></span>
              <input type="tel" id="editContactNumber" required>
            </label>
            
            <label>
              <span class="field-label">Respondent: <span class="required">*</span></span>
              <input type="text" id="editRespondent" required>
            </label>
            
            <label>
              <span class="field-label">Incident Location: <span class="required">*</span></span>
              <input type="text" id="editLocation" required>
            </label>
            
            <label>
              <span class="field-label">Type of Incident: <span class="required">*</span></span>
              <input type="text" id="editIncidentType" required>
            </label>
            
            <label>
              <span class="field-label">Narrative: <span class="required">*</span></span>
              <textarea id="editNarrative" rows="5" required></textarea>
            </label>
            
            <div class="modal-actions">
              <button type="button" id="saveEdit" class="btn-save">Save Changes</button>
              <button type="button" id="cancelEdit" class="btn-cancel">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  
  <nav class="bottom-nav">
    <a href="user_dashboard.html" class="nav-item">
      <span class="nav-icon">üè†</span>
      <span>Home</span>
    </a>
    <a href="user_blotter.html" class="nav-item active">
      <span class="nav-icon">üìã</span>
      <span>Reports</span>
    </a>
    <a href="user_settings.html" class="nav-item">
      <span class="nav-icon">‚öôÔ∏è</span>
      <span>Settings</span>
    </a>
    <a href="user_profile.html" class="nav-item">
      <span class="nav-icon">üë§</span>
      <span>Profile</span>
    </a>
  </nav>
  
  <script src="user_app.js"></script>
</body>
</html>